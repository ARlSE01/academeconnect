{% extends 'nav.html' %}
{% load static %}

{% block content %}
<!-- Main Content -->
<div class="w-3/4 p-6 text-white">
    <h2 class="mx-5 text-3xl font-bold text-white mb-4">POSTS</h2>
    <div class="relative mt-4 mx-12 ">
        <input type="text" class="w-11/12 p-2 pl-10 bg-gradient-to-r from-blue-400 to-teal-500  text-white rounded-lg outline-none" placeholder="Search">
        <span class="absolute left-3 top-2 text-white text-lg">üîç</span>
    </div>

    <!-- Scrollable Parent Container -->
    <div class="mt-6 h-96 overflow-y-auto space-y-2 ">
        {% for post in posts %}
        <a href="../post/{{post.id}}">
            <div class="flex items-center mb-2 bg-white/50 p-4 rounded-lg shadow-md mx-6 w-11/12 transition-all hover:scale-105 duration-300 ease-in-out hover:border-gray-700 block">
                <div class="w-12 h-12 bg-gray-300 rounded-lg flex items-center justify-center ">
                    <img src="/{{post.author.profile_picture}}" alt="" class="w-10 h-10">
                </div>
                <div class="ml-4 flex-1 w-full">
                    <h3 class="text-lg text-gray-800 font-semibold break-words w-full">{{ post.title }}</h3>
                    <p class="text-sm text-gray-800">{{ post.author.random_username }}</p>
                </div>
                    <p class="flex text-sm text-white font-bold p-1 mr-1"><img src="/static/uploads/like.png" class="h-5 w-5 round-full mx-1">{{ post.likes }}</p>
                    <p class="flex text-sm text-white font-bold p-1 mr-1"><img src="/static/uploads/dislike.png" class="h-5 w-5 round-full mx-1">{{ post.dislikes }}</p>
                <span class="text-xl font-bold text-white">{{ post.score }}</span>
            </div>
        </a>
        {% empty %}
        <p class="text-gray-400 text-center">No posts available.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
